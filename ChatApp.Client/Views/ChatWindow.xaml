<Window x:Class="ChatApp.Client.Views.ChatWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:ChatApp.Client.Views"
        mc:Ignorable="d"
        Title="ChatWindow" Height="450" Width="800"
        Loaded="form_load"
        Closing="form_closing"
        >
    <Grid>
        <!-- Header -->
        <DockPanel Background="#E0F2F1" Height="50" VerticalAlignment="Top">
            <Button Content="←" Width="30" Height="30" Margin="10,10,0,10" 
            VerticalAlignment="Center" Click="BackButton_Click"/>
            <!-- Avatar + Tên + Trạng thái -->
            <StackPanel Orientation="Horizontal" VerticalAlignment="Center" Margin="10,0">
                <!-- Avatar -->
                <Image Source="https://example.com/avatar.jpg"
               Width="32" Height="32" Margin="0,0,10,0"
               Stretch="UniformToFill" ClipToBounds="True" />

                <!-- Tên + Trạng thái -->
                <StackPanel Orientation="Vertical" VerticalAlignment="Center">
                    <TextBlock Text="Nguyễn Văn A" FontWeight="Bold" FontSize="14" Name="UserName"/>
                    <TextBlock Text="Online" FontSize="10" Foreground="Green" Name="StatusOnOff"/>
                    <!-- Hoặc nếu offline:
            <TextBlock Text="Offline" FontSize="10" Foreground="Gray"/> -->
                </StackPanel>
            </StackPanel>

            <!-- Nút gọi video và thoại -->
            <StackPanel Orientation="Horizontal" HorizontalAlignment="Right" Margin="0,0,10,0">
                <Button Content="📹" Width="30" Height="30" Margin="5"/>
                <Button Content="📞" Width="30" Height="30" Margin="5"/>
            </StackPanel>
        </DockPanel>

        <!-- Chat Area -->
        <ScrollViewer Margin="0,50,0,60" VerticalScrollBarVisibility="Auto" Name="ChatBox">
            <StackPanel x:Name="ChatMessages" Margin="10">



            </StackPanel>
        </ScrollViewer>

        <!-- Message Input Area -->
        <DockPanel Height="60" VerticalAlignment="Bottom" Background="#ECEFF1">
            <Button Content="🖼" Width="40" Height="40" Margin="10,10,5,10" VerticalAlignment="Center" Name="SendImg" Click="SendImg_Click"/>
            <Button Content="File" Width="40" Height="40" Margin="10,10,5,10" VerticalAlignment="Center" Name="SendFile" Click="SendFile_Click"/>
            <TextBox FontSize="14" Width="541" Height="40" Margin="0,10" Background="White" BorderBrush="#B0BEC5" BorderThickness="1" Name="TextMess" TextChanged="TextMess_TextChanged"/>
            <Button Content="😊" Click="EmojiButton_Click" Width="40" Height="40" Margin="5,0,0,0"/>
            <Button Content="Gửi" Width="80" Height="40" Margin="10" VerticalAlignment="Center" Background="#2196F3" Foreground="White" BorderThickness="0" Name="SendTextMess" Click="SendTextMess_Click"/>
        </DockPanel>
        <Popup Name="EmojiPopup" PlacementTarget="{Binding ElementName=EmojiButton}" StaysOpen="False" Placement="Bottom">
            <Border Background="White" BorderBrush="Gray" BorderThickness="1" Padding="5">
                <WrapPanel>
                    <Button Content="😀" Click="EmojiSelected_Click" Width="40" Height="30"/>
                    <Button Content="😂" Click="EmojiSelected_Click" Width="40" Height="30"/>
                    <Button Content="😍" Click="EmojiSelected_Click" Width="40" Height="30"/>
                    <Button Content="😢" Click="EmojiSelected_Click" Width="40" Height="30"/>
                    <Button Content="👍" Click="EmojiSelected_Click" Width="40" Height="30"/>
                    <!-- Thêm emoji tùy ý -->
                </WrapPanel>
            </Border>
        </Popup>

    </Grid>

</Window>
